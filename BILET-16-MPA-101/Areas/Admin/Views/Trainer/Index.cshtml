@using BILET_16_MPA_101.ViewModels
@model List<TrainerGetVM>

<div class="container mt-4">
    <div class="row">

        <div class="col-2 mb-3">
            <a class="btn btn-success" asp-action="Create">
                Create Trainer
            </a>
        </div>

        <table class="table table-striped">
            <thead class="table-dark">
                <tr>
                    <th scope="col">Id</th>
                    <th scope="col">Image</th>
                    <th scope="col">Name</th>
                    <th scope="col">Description</th>
                    <th scope="col">Department</th>
                    <th scope="col">Actions</th>
                </tr>
            </thead>

            <tbody>
                @foreach (var trainer in Model)
                {
                    <tr>
                        <th scope="row">@trainer.Id</th>

                        <td>
                            <img src="~/uploads/@trainer.ImagePath"
                                 width="80"
                                 height="80"
                                 style="object-fit:cover" />
                        </td>

                        <td>@trainer.Name</td>
                        <td>@trainer.Description</td>
                        <td>@trainer.DepartmentName</td>

                        <td>
                            <!-- Update -->
                            <a asp-action="Update"
                               asp-route-id="@trainer.Id"
                               class="btn btn-warning btn-sm">
                                Update
                            </a>

                            <!-- Delete (POST form with confirm) -->
                            <form asp-action="Delete"
                                  asp-route-id="@trainer.Id"
                                  method="post"
                                  class="d-inline">
                                <button type="submit"
                                        class="btn btn-danger btn-sm"
                                        onclick="return confirm('Are you sure you want to delete this trainer?');">
                                    Delete
                                </button>
                            </form>
                        </td>
                    </tr>
                }
            </tbody>
        </table>

    </div>
</div>
